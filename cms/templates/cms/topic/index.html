{% extends 'cms/layout/base.html' %}

{% load static %}
{% load fontawesome %}

{% block extended_head %}
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.12/datatables.min.css"/>

  <script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.12/datatables.min.js"></script>

  <script type = "text/javascript"
          src="{% static 'cms/js/topic/index.js' %}">
  </script>

  <link rel="stylesheet" type="text/css" href="{% static 'cms/css/topic/index.css' %}"/>
{% endblock %}

{% block breadcrumb %}
  <div>
    <ol class="breadcrumb custom-navbar-item">
      <li>
        <a id="breadcrumb-home" href="#">
          {% fontawesome_icon 'home' color='blue' %}
        </a>
      </li>
      <li id="breadcrumb-topic" class="active">
         {% fontawesome_icon 'bookmark' color='blue' %}
      </li>
    </ol>
  </div>
{% endblock breadcrumb %}

{% block main_content %}

  <form action="/cms/topic/" method="post">
    {% csrf_token %}
    {{ form.subject }}
    <input type="submit" value="Select" />
  </form>

  <a href="/cms/create_topic/">
    <button id="add" type="button" class="btn btn-success new-button"></button>
  </a>

  <table id="items" class="display" width="100%" cellspacing="0">
    <thead class="custom-header">
      <tr>
        <th id="header-order"> </th>
        <th id="header-name"> </th>
        <th id="header-description"> </th>
        <th id="header-subject"> </th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {% for topic in topics %}
        <tr>
          <td>{{topic.order}}</td>
          <td>{{topic.name}}</td>
          <td>{{topic.description}}</td>
          <td>{{topic.subject}}</td>
          <td>
            <ul class="nav nav-pills">
              <li role="presentation">
                <a href="/cms/topic/move_up/{{ topic.id }}">
                  {% fontawesome_icon 'arrow-up' color='blue' %}
                </a>
              </li>
              <li role="presentation">
                <a href="/cms/topic/move_down/{{ topic.id }}">
                  {% fontawesome_icon 'arrow-down' color='blue' %}
                </a>
              </li>
              <li role="presentation">
                <a href="/cms/edit_topic/{{ topic.id }}">
                  {% fontawesome_icon 'edit' color='blue' %}
                </a>
              </li>
            </ul>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock main_content %}
